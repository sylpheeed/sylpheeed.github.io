var MakeRoutes=(function(){var k=undefined;var b=undefined;function d(m){var s=arguments[1]===undefined?"":arguments[1];var t=arguments[2]===undefined?false:arguments[2];var u={};var l="";if(t){l=s?""+s+"/"+t:t}function o(w){var x=""+l+"/:"+t+"_id";var y=m[w];for(var v in y){var z=false;if(a(y[v]).isFunction()){z=y[v]}else{if(y[v].to){z=y[v].to;v=i(y[v])||v}}u[v]=q(x,v,z)}}function q(w,v,x){switch(v){case"show":v=":id";break;case"index":v=false;break}if(!w){w=v;v=false}w=v?"/"+w+"/"+v:"/"+w;return{path:w,to:x}}for(var r in m){var n=m[r];if(a(n).isFunction()){u[r]=q(l,r,n)}else{if(a(n).isObject()){var p=n.path?i(n):r;if(n.to){u[r]=q(l,p,n.to)}else{if(a(r).isCollection()){o(r)}else{u[r]=d(m[r],l,p)}}}}}return u}function c(){var p=arguments[0]===undefined?k:arguments[0];var m=arguments[1]===undefined?false:arguments[1];for(var n in p){var o=p[n];var l=false;if(o.path){l={path:o.path,to:o.to};delete p[n].path;delete p[n].to}var q=m?""+m+"_"+n:n;if(a(p[n]).isEmpty()){k[q]=l}else{c(p[n],q);delete p[n]}}}function a(n){return{isFunction:function p(){return typeof n==="function"},isObject:function l(){return n!==null&&typeof n==="object"},isEmpty:function o(){return Object.keys(n).length===0},isCollection:function m(){return n==="collection"}}}function i(l){return l.path?l.path.split("/")[1]:false}var g=function g(m,o){function n(q){if(o){for(var r in o){q=q.replace(":"+r,o[r])}}return q}function l(){if(b[m]){return true}else{console.warn("Invalid route name: ",m);return false}}return l()?n(b[m].path):""};function h(l){k=d(l);c(k);b=k}return{init:function j(l){h(l)},all:function f(){return b},route:function e(l,m){return g(l,m)}}})();